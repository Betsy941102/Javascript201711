<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>


    //  形成全局作用域（栈内存）
    // 进行预解释: 把带var和function进行提前的声明（变量提升）
    console.log(a)// undefined
    var a =1;
//    console.log(b)
    b =1;
    // 在全局定义的变量相当于给window增加一个属性


    if(true){

    }
    console.log(sum)
    function sum() {

    }
    // var  function : var 只声明不定义，function不仅声明而且定义
    // 在全局下变量用逗号隔开，相当于也被var;
    var a,b,fn = function () {
        console.log(a)//
        console.log(b)
        var a = b =1;
        var a =1;
        b=1;
    }
    fn();
    console.log(window.a) //
    console.log(window.b)//1

    var a;
    var b;
    var fn = function () {
        var a =1;
        b =1
    }
    fn()


    // 1.不管条件是否成立，都要进行变量提升；带function ，在最新版本浏览器中，只声明不定义；在老版本浏览器中，function不仅声明而且定义；
    if(false){
        var a = 1;
        function b() {

        }
    }
    // 2.预解释只发生在“=”号的左边，右边不进行预解释
    var fn = function () {

    }
    function c() {

    }
    console.log(1)
    // 3.匿名函数不进行预解释
    // 自执行函数定义和执行时一块完成的
    (function() {


    })()

    console.log(2)

    // 4.return   :函数的出口；return 后面的内容不需要进行预解释,但是下面的代码需要进行预解释；
    //
    function a() {
        return function () {

        };
        var f = 10;
    }
    a();

    // 5. 如果变量名字相同,不再进行重复声明，但是要重新定义；
    console.log(h)
    var h = 13;
    var h =88;
    function h() {

    }
    console.log(total) // undefined
    var  total =0;
    function sum() {
        console.log(total)// undefined
        total +=100;
        total =200;
        var total =10;
        console.log(total) //10
    }
    sum();
    console.log(total)//0


    console.log(total)
    var  total =0;
    function sum() {
        console.log(total)// 0
        total +=100;
        total =200;
        total =10;

        console.log(total)// 10
    }
    sum();
    console.log(total)//10
    // 判断是饭否是私有变量： 1.看是否是形参，2，看有没有被var

    //查看当前变量首先看是否是私有的，如果不是，那么往上一级作用域查找，如果上级作用域也不再变量，继续往上查找；直到找到window为止，如果window不存在就报错；

   // 上级作用域跟函数在哪执行没有关系，跟函数在哪定义有关系；
    var total =10;
    function sum() {
        var total =100;
        return function () {
            console.log(total)
        }
    }
    var f = sum();
    f()





</script>
</body>
</html>